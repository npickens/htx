/* HTX.Renderer v1.0.1 :: Copyright 2019-2025 Nate Pickens :: MIT License */
(t=>{t.Renderer=class{constructor(){this.t=new WeakMap,this.i=new WeakMap}node(t,...s){let e,i=this.h,h=this.l,l=s.length,n=s[l-1],o=s[l-1]>>3,c=l%2==0&&s[l-2],a=`${o}:${c}`;for(1==o?(this.o=new WeakRef(this.u||{}),this.u={}):i=i==h?h.firstChild:i.nextSibling;i&&this.t.get(i)<o;){let t=i;i=i.nextSibling,t.remove()}let f=this.t.get(i)==o,u=f&&this.i.get(i)==c;if(c&&f&&!u){let t=this.o[a];t&&(i.parentNode.insertBefore(t,i),u=!!(i=t))}if(1&n)e=u?i:4&n?document.createElementNS(s[s.indexOf("xmlns")+1||-1]||h.namespaceURI,t):document.createElement(t);else if(t&&t.render instanceof Function&&(t=t.render()),null==t&&(t=""),t instanceof Node)e=t;else if(u&&3==i.nodeType){e=i;let s=t.toString();e.nodeValue!=s&&(e.nodeValue=s)}else e=document.createTextNode(t);e!=i&&(this.t.set(e,o),this.i.set(e,c)),c&&(this.u[a]=e);for(let t=0;t<s.length-2;t+=2){let i=s[t],h=s[t+1];"class"==i&&h instanceof Array&&(h=h.filter(Boolean).join(" ")||null);let l=null==h;"INPUT"==e.tagName&&("value"==i||"checked"==i)||"OPTION"==e.tagName&&"selected"==i?e[i]=l?null:h:l||!1===h?e.removeAttribute(i):e.setAttribute(i,!0===h?"":h)}h?i&&i!=h?e!=i&&h.insertBefore(e,i):h.append(e):this.rootNode=e,this.h=e,1&n&&!(2&n)&&(this.l=e)}close(t=1){for(;t-- >0;){if(this.h==this.l)for(;this.h.firstChild;)this.h.firstChild.remove();else for(;this.h.nextSibling;)this.h.nextSibling.remove();this.h=this.l,this.l=this.l.parentNode}}}})(globalThis.HTX||={});
