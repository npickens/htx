/* HTX.Renderer v1.0.0 :: Copyright 2019-2024 Nate Pickens :: MIT License */
(t=>{t.Renderer=class{constructor(t,s){this.t=new WeakMap,this.i=new WeakMap,this.h={}}node(t,...s){let i,e=this.l,h=this.o,l=s.length,n=s[l-1],o=s[l-1]>>3,a=l%2==0&&s[l-2],c=`${o}:${a}`;for(1==o?this.u={}:e=e==h?h.firstChild:e.nextSibling;e&&this.t.get(e)<o;){let t=e;e=e.nextSibling,t.remove()}let f=this.t.get(e)==o,u=f&&this.i.get(e)==a;if(a&&f&&!u){let t=this.h[c];t&&(e.parentNode.insertBefore(t,e),u=!!(e=t))}if(1&n)i=u?e:4&n?document.createElementNS(s[s.indexOf("xmlns")+1||-1]||h.namespaceURI,t):document.createElement(t);else if(t&&t.render instanceof Function&&(t=t.render()),null==t&&(t=""),t instanceof Node)i=t;else if(u&&3==e.nodeType){i=e;let s=t.toString();i.nodeValue!=s&&(i.nodeValue=s)}else i=document.createTextNode(t);i!=e&&(this.t.set(i,o),this.i.set(i,a)),a&&(this.u[c]=i);for(let t=0;t<s.length-2;t+=2){let e=s[t],h=s[t+1];"class"==e&&h instanceof Array&&(h=h.filter(Boolean).join(" ")||null);let l=null==h;"INPUT"==i.tagName&&"value"==e||"OPTION"==i.tagName&&"selected"==e?i[e]=l?null:h:l||!1===h?i.removeAttribute(e):i.setAttribute(e,!0===h?"":h)}h?e&&e!=h?i!=e&&h.insertBefore(i,e):h.append(i):this.rootNode=i,this.l=i,1&n&&!(2&n)&&(this.o=i)}close(t=1){for(;t-- >0;){if(this.l==this.o)for(;this.l.firstChild;)this.l.firstChild.remove();else for(;this.l.nextSibling;)this.l.nextSibling.remove();this.l=this.o,this.o=this.o.parentNode}1==this.t.get(this.l)&&(this.h=this.u,delete this.u)}}})(globalThis.HTX||={});
