/**
 * HTX, HTXComponent
 * Copyright 2019-2021 Nate Pickens
 *
 * @license MIT
 * @version 0.0.5
 */
let HTX=function(){let t=new WeakMap;return class{static render(e,n){let i=t.get(e)||new HTX((HTX.templates||window)[e]||e);if(!i)throw`Template not found: ${e}`;return n&&(i.t=n),i.i.call(i.t,i),i.s}constructor(t){this.i=t,this.o=new WeakMap,this.h=new WeakMap}node(e,...n){let i,s=this.s,o=this.l,h=n.length,r=3&n[h-1],l=n[h-1]>>2,c=h%2==0?n[h-2]:void 0;for(1!=l&&(s=o&&s==o?o.firstChild:s.nextSibling);s&&this.o.get(s)<l;){let t=s;s=s.nextSibling,t.remove()}this.o.get(s)==l&&this.h.get(s)!=c&&this.o.get(s.nextSibling)==l&&this.h.get(s.nextSibling)==c&&(s=s.nextSibling,s.previousSibling.remove()),this.o.get(s)!=l||this.h.get(s)!=c||s instanceof Comment&&"[HTX:unknown]"==s.nodeValue&&null!=e?(null==e?i=document.createComment("[HTX:unknown]"):e instanceof Node?i=e:e&&e.render instanceof Function?i=e.render():2&r?i=document.createTextNode(e):"svg"==e||this.svg?(i=document.createElementNS("http://www.w3.org/2000/svg",e),this.svg=!0):i=document.createElement(e),this.o.delete(s),this.h.delete(s),this.o.set(i,l),this.h.set(i,c)):(i=s,i instanceof Text&&i.nodeValue!==e&&(i.nodeValue=e));for(let t=0,e=1;e<n.length-1;t+=2,e+=2)"INPUT"!=i.tagName&&"SELECT"!=i.tagName||"value"!=n[t]&&"checked"!=n[t]?!1===n[e]||null===n[e]||void 0===n[e]?i.removeAttribute(n[t]):i.setAttribute(n[t],!0===n[e]?"":n[e]):i[n[t]]=n[e];o?s&&s!=o?i!=s&&o.insertBefore(i,s):o.append(i):t.set(i,this),this.s=i,3&r||(this.l=i)}close(t=1){for(;t-- >0;){let t=this.s,e=this.l;if(this.l=e.parentNode,t==e)for(;t.firstChild;)t.firstChild.remove();else for(;t&&t.nextSibling;)t.nextSibling.remove();this.s=e,"svg"==this.s.tagName&&(this.svg=!1)}}}}(),HTXComponent=function(){let t,e,n=[];function i(){for(let[t,e]of n)t.didRender(e);e=null,n=[]}return class{constructor(t){this.htxPath=t}render(){let s=!this.node;if(s&&!t&&!e)throw"Cannot render unmounted component (call mount() instead of render())";return e=e||this,this.node=HTX.render(this.node||this.htxPath,this),this.didRender&&n.push([this,s]),t||e!=this||i(),this.node}mount(...e){t=!0;let n=e.find(t=>"string"==typeof t)||"append",s=e.find(t=>"string"!=typeof t)||document.body,o=this.render();if("prepend"==n?s.prepend(o):"append"==n?s.append(o):"replace"==n?s.parentNode.replaceChild(o,s):"before"==n?s.parentNode.insertBefore(o,s):"after"==n?s.parentNode.insertBefore(o,s.nextSibling):o=null,!o)throw`Unrecognized placement type: ${n}`;i(),t=!1}}}();
