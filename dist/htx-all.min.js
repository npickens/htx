/* HTX, HTXComponent v0.0.7 :: Copyright 2019-2022 Nate Pickens :: MIT License */
let HTX=function(){let t=new WeakMap;return class{static render(e,i){let n=t.get(e)||new HTX((HTX.templates||window)[e]||e);if(!n)throw`Template not found: ${e}`;return i&&(n.t=i),n.i.call(n.t,n),n.h}constructor(t){this.i=t,this.o=new WeakMap,this.l=new WeakMap,this.u={}}node(e,...i){let n,s=this.h,h=this.p,o=i.length,l=7&i[o-1],r=i[o-1]>>3,c=o%2==0&&i[o-2],f=`${r}:${c}`;for(1==r?this.m={}:s=s==h?h.firstChild:s.nextSibling;s&&this.o.get(s)<r;){let t=s;s=s.nextSibling,t.remove()}let a=this.o.get(s)==r,u=a&&this.l.get(s)==c;if(c&&a&&!u){let t=this.u[f];t&&(s.parentNode.insertBefore(t,s),u=!!(s=t))}if(1&l)n=u?s:4&l?document.createElementNS(i[i.indexOf("xmlns")+1||-1]||h.namespaceURI,e):document.createElement(e);else if(e&&e.render instanceof Function&&(e=e.render()),null==e&&(e=""),e instanceof Node)n=e;else if(u&&3==s.nodeType){n=s;let t=e.toString();n.nodeValue!=t&&(n.nodeValue=t)}else n=document.createTextNode(e);n!=s&&(this.o.set(n,r),this.l.set(n,c)),c&&(this.m[f]=n);for(let t=0;t<i.length-2;t+=2){let e=i[t],s=i[t+1],h=!1===s||null==s;"OPTION"==n.tagName&&"selected"==e&&(n[e]=s),h?n.removeAttribute(e):n.setAttribute(e,!0===s?"":s)}h?s&&s!=h?n!=s&&h.insertBefore(n,s):h.append(n):t.set(n,this),this.h=n,1&l&&!(2&l)&&(this.p=n)}close(t=1){for(;t-- >0;){let t=this.h,e=this.p;if(this.p=e.parentNode,t==e)for(;t.firstChild;)t.firstChild.remove();else for(;t&&t.nextSibling;)t.nextSibling.remove();this.h=e}1==this.o.get(this.h)&&(this.u=this.m,delete this.m)}}}(),HTXComponent=function(){let t,e,i=[];function n(){for(e=null;i.length;){let[t,e]=i.shift();t.didRender(e)}}return class{constructor(t){this.htxPath=t}render(){let s=!this.node;if(s&&!t&&!e)throw"Cannot render unmounted component (call mount() instead of render())";return e=e||this,this.node=HTX.render(this.node||this.htxPath,this),this.didRender&&i.push([this,s]),t||e!=this||n(),this.node}mount(...e){t=!0;let i=e.find((t=>"string"==typeof t))||"append",s=e.find((t=>"string"!=typeof t))||document.body;if("append"!=i&&"prepend"!=i&&"before"!=i&&"after"!=i&&"replace"!=i)throw`Unrecognized placement type: ${i}`;s[i.replace("replace","replaceWith")](this.render()),t=!1,n()}}}();