/* HTX, HTXComponent v0.0.8 :: Copyright 2019-2022 Nate Pickens :: MIT License */
let HTX=function(){let t=new WeakMap;return class{static render(e,n){let i;if(console.warn("HTX.render is deprecated. Please use new HTX(...).render() instead."),e instanceof Node){if(i=t.get(e),!i)throw`HTX instance not found for Node: ${e}`;n&&(i.t=n)}else i=new HTX(e,n);return i.render()}constructor(t,e){if(this.i=(HTX.templates||window)[t]||t,this.t=e,this.o=new WeakMap,this.h=new WeakMap,this.l={},!this.i)throw`Template not found: ${t}`}render(){return this.i.call(this.t,this),htx.u}node(e,...n){let i,s=this.u,o=this.p,r=n.length,h=n[r-1],l=n[r-1]>>3,c=r%2==0&&n[r-2],f=`${l}:${c}`;for(1==l?this.m={}:s=s==o?o.firstChild:s.nextSibling;s&&this.o.get(s)<l;){let t=s;s=s.nextSibling,t.remove()}let d=this.o.get(s)==l,a=d&&this.h.get(s)==c;if(c&&d&&!a){let t=this.l[f];t&&(s.parentNode.insertBefore(t,s),a=!!(s=t))}if(1&h)i=a?s:4&h?document.createElementNS(n[n.indexOf("xmlns")+1||-1]||o.namespaceURI,e):document.createElement(e);else if(e&&e.render instanceof Function&&(e=e.render()),null==e&&(e=""),e instanceof Node)i=e;else if(a&&3==s.nodeType){i=s;let t=e.toString();i.nodeValue!=t&&(i.nodeValue=t)}else i=document.createTextNode(e);i!=s&&(this.o.set(i,l),this.h.set(i,c)),c&&(this.m[f]=i);for(let t=0;t<n.length-2;t+=2){let e=n[t],s=n[t+1],o=!1===s||null==s;"OPTION"==i.tagName&&"selected"==e&&(i[e]=s),o?i.removeAttribute(e):i.setAttribute(e,!0===s?"":s)}o?s&&s!=o?i!=s&&o.insertBefore(i,s):o.append(i):t.set(i,this),this.u=i,1&h&&!(2&h)&&(this.p=i)}close(t=1){for(;t-- >0;){let t=this.u,e=this.p;if(this.p=e.parentNode,t==e)for(;t.firstChild;)t.firstChild.remove();else for(;t&&t.nextSibling;)t.nextSibling.remove();this.u=e}1==this.o.get(this.u)&&(this.l=this.m,delete this.m)}}}(),HTXComponent=function(){let t,e,n=[];function i(){for(e=null;n.length;){let[t,e]=n.shift();t.didRender(e)}}return class{constructor(t){this.htx=new HTX(t,this)}render(){let s=!this.node;if(s&&!t&&!e)throw"Cannot render unmounted component (call mount() instead of render())";return e=e||this,this.node=htx.render(),this.didRender&&n.push([this,s]),t||e!=this||i(),this.node}mount(...e){t=!0;let n=e.find((t=>"string"==typeof t))||"append",s=e.find((t=>"string"!=typeof t))||document.body;if("append"!=n&&"prepend"!=n&&"before"!=n&&"after"!=n&&"replace"!=n)throw`Unrecognized placement type: ${n}`;s[n.replace("replace","replaceWith")](this.render()),t=!1,i()}}}();