/**
 * HTX
 * Copyright 2019-2022 Nate Pickens
 *
 * @license MIT
 * @version 0.0.6
 */
let HTX=function(){let t=new WeakMap;return class{static render(e,i){let s=t.get(e)||new HTX((HTX.templates||window)[e]||e);if(!s)throw`Template not found: ${e}`;return i&&(s.t=i),s.i.call(s.t,s),s.s}constructor(t){this.i=t,this.h=[],this.o=new WeakMap,this.l=new WeakMap}node(e,...i){let s,n=this.s,h=this.u,o=i.length,l=7&i[o-1],f=i[o-1]>>3,c=o%2==0?i[o-2]:void 0;for(1!=f&&(n=h&&n==h?h.firstChild:n.nextSibling);n&&this.o.get(n)<f;){let t=n;n=n.nextSibling,t.remove()}if(this.o.get(n)==f&&this.l.get(n)!=c&&this.o.get(n.nextSibling)==f&&this.l.get(n.nextSibling)==c&&(n=n.nextSibling,n.previousSibling.remove()),this.o.get(n)!=f||this.l.get(n)!=c||n instanceof Comment&&"[HTX:unknown]"==n.nodeValue&&null!=e){if(null==e)s=document.createComment("[HTX:unknown]");else if(e instanceof Node)s=e;else if(e&&e.render instanceof Function)s=e.render();else if(2&l)s=document.createTextNode(e);else if(4&l||this.h.length>0){let t=4&l?i[i.indexOf("xmlns")+1]:this.h[0].namespaceURI;s=document.createElementNS(t,e),4&l&&this.h.unshift(s)}else s=document.createElement(e);this.o.delete(n),this.l.delete(n),this.o.set(s,f),this.l.set(s,c)}else s=n,s instanceof Text&&s.nodeValue!==e&&(s.nodeValue=e);for(let t=0,e=1;e<i.length-1;t+=2,e+=2)"INPUT"!=s.tagName&&"SELECT"!=s.tagName||"value"!=i[t]&&"checked"!=i[t]?!1===i[e]||null===i[e]||void 0===i[e]?s.removeAttribute(i[t]):s.setAttribute(i[t],!0===i[e]?"":i[e]):s[i[t]]=i[e];h?n&&n!=h?s!=n&&h.insertBefore(s,n):h.append(s):t.set(s,this),this.s=s,3&l||(this.u=s)}close(t=1){for(;t-- >0;){let t=this.s,e=this.u;if(this.u=e.parentNode,t==e)for(;t.firstChild;)t.firstChild.remove();else for(;t&&t.nextSibling;)t.nextSibling.remove();this.h.length>0&&t==this.h[0]&&this.h.shift(),this.s=e}}}}();
