/* HTX v0.1.1 :: Copyright 2019-2023 Nate Pickens :: MIT License */
(e=>{e.Renderer=class{static templateResolver(t,s,i=!1){let n="string"==typeof t?(void 0!==e&&e.templates||globalThis)[t]:t;if(!n)throw`Template not found: ${t}`;return new n(s)}constructor(e,t){this.t=new WeakMap,this.i=new WeakMap,this.o={}}node(e,...t){let s,i=this.l,n=this.h,o=t.length,l=t[o-1],a=t[o-1]>>3,h=o%2==0&&t[o-2],r=`${a}:${h}`;for(1==a?this.p={}:i=i==n?n.firstChild:i.nextSibling;i&&this.t.get(i)<a;){let e=i;i=i.nextSibling,e.remove()}let c=this.t.get(i)==a,p=c&&this.i.get(i)==h;if(h&&c&&!p){let e=this.o[r];e&&(i.parentNode.insertBefore(e,i),p=!!(i=e))}if(1&l)s=p?i:4&l?document.createElementNS(t[t.indexOf("xmlns")+1||-1]||n.namespaceURI,e):document.createElement(e);else if(e&&e.render instanceof Function&&(e=e.render()),null==e&&(e=""),e instanceof Node)s=e;else if(p&&3==i.nodeType){s=i;let t=e.toString();s.nodeValue!=t&&(s.nodeValue=t)}else s=document.createTextNode(e);s!=i&&(this.t.set(s,a),this.i.set(s,h)),h&&(this.p[r]=s);for(let e=0;e<t.length-2;e+=2){let i=t[e],n=t[e+1];"class"==i&&n instanceof Array&&(n=n.filter(Boolean).join(" ")||null),"OPTION"==s.tagName&&"selected"==i&&(s[i]=n),!1===n||null==n?s.removeAttribute(i):s.setAttribute(i,!0===n?"":n)}n&&(i&&i!=n?s!=i&&n.insertBefore(s,i):n.append(s)),this.l=s,1&l&&!(2&l)&&(this.h=s)}close(e=1){for(;e-- >0;){if(this.l==this.h)for(;this.l.firstChild;)this.l.firstChild.remove();else for(;this.l.nextSibling;)this.l.nextSibling.remove();this.l=this.h,this.h=this.h.parentNode}1==this.t.get(this.l)&&(this.rootNode=this.l,this.o=this.p,delete this.p)}}})(globalThis.HTX||={}),globalThis.HTX=Object.assign((function(e,t){return console.warn("[DEPRECATED] new HTX(...) is deprecated: directly instantiate template instead [e.g. new templateFcn(context)]"),globalThis.HTX.Renderer.templateResolver(e,t)}),globalThis.HTX||={});const HTX=new Proxy(globalThis.HTX,{get:(e,t,s)=>(console.warn("[DEPRECATED] Top-level HTX variable is deprecated: use globalThis.HTX instead"),e[t])});(e=>{let t,s,i=[];function n(){for(s=null;i.length;){let[e,t]=i.shift();e.didRender(t)}}e.Component=class{constructor(t){"string"==typeof t&&console.warn("[DEPRECATED] Passing a template name to the HTX.Component constructor is deprecated: pass a direct template function reference instead"),this.template=e.Renderer.templateResolver(t,this,!0)}render(){let e=!this.node;if(e&&!t&&!s)throw"Cannot render unmounted component (call mount() instead of render())";return s=s||this,this.node=this.template.render(),this.didRender&&i.push([this,e]),t||s!=this||n(),this.node}mount(...e){t=!0;let s=e.find((e=>"string"==typeof e))||"append",i=e.find((e=>"string"!=typeof e))||document.body;if("append"!=s&&"prepend"!=s&&"before"!=s&&"after"!=s&&"replace"!=s)throw`Unrecognized placement type: ${s}`;i[s.replace("replace","replaceWith")](this.render()),t=!1,n()}}})(globalThis.HTX||={});const HTXComponent=new Proxy(globalThis.HTX.Component,{get:(e,t,s)=>("prototype"==t&&console.warn("[DEPRECATED] Top-level HTXComponent variable is deprecated: use globalThis.HTX.Component instead"),e[t])});
