/* HTX v1.0.1 :: Copyright 2019-2025 Nate Pickens :: MIT License */
(t=>{t.Renderer=class{constructor(){this.t=new WeakMap,this.i=new WeakMap}node(t,...e){let s,i=this.h,n=this.l,h=e.length,l=e[h-1],o=e[h-1]>>3,r=h%2==0&&e[h-2],c=`${o}:${r}`;for(1==o?(this.o=new WeakRef(this.u||{}),this.u={}):i=i==n?n.firstChild:i.nextSibling;i&&this.t.get(i)<o;){let t=i;i=i.nextSibling,t.remove()}let a=this.t.get(i)==o,f=a&&this.i.get(i)==r;if(r&&a&&!f){let t=this.o[c];t&&(i.parentNode.insertBefore(t,i),f=!!(i=t))}if(1&l)s=f?i:4&l?document.createElementNS(e[e.indexOf("xmlns")+1||-1]||n.namespaceURI,t):document.createElement(t);else if(t&&t.render instanceof Function&&(t=t.render()),null==t&&(t=""),t instanceof Node)s=t;else if(f&&3==i.nodeType){s=i;let e=t.toString();s.nodeValue!=e&&(s.nodeValue=e)}else s=document.createTextNode(t);s!=i&&(this.t.set(s,o),this.i.set(s,r)),r&&(this.u[c]=s);for(let t=0;t<e.length-2;t+=2){let i=e[t],n=e[t+1];"class"==i&&n instanceof Array&&(n=n.filter(Boolean).join(" ")||null);let h=null==n;"INPUT"==s.tagName&&("value"==i||"checked"==i)||"OPTION"==s.tagName&&"selected"==i?s[i]=h?null:n:h||!1===n?s.removeAttribute(i):s.setAttribute(i,!0===n?"":n)}n?i&&i!=n?s!=i&&n.insertBefore(s,i):n.append(s):this.rootNode=s,this.h=s,1&l&&!(2&l)&&(this.l=s)}close(t=1){for(;t-- >0;){if(this.h==this.l)for(;this.h.firstChild;)this.h.firstChild.remove();else for(;this.h.nextSibling;)this.h.nextSibling.remove();this.h=this.l,this.l=this.l.parentNode}}}})(globalThis.HTX||={}),(t=>{let e,s,i=[];function n(){for(s=null;i.length;){let[t,e]=i.shift();t.didRender(e)}}t.Component=class{constructor(t){this.template=new t(this)}render(){let t=!this.node;if(t&&!e&&!s)throw"Cannot render unmounted component (call mount() instead of render())";return s=s||this,this.node=this.template.render(),this.didRender&&i.push([this,t]),e||s!=this||n(),this.node}mount(...t){e=!0;let s=t.find((t=>"string"==typeof t))||"append",i=t.find((t=>"string"!=typeof t))||document.body;if("append"!=s&&"prepend"!=s&&"before"!=s&&"after"!=s&&"replace"!=s)throw`Unrecognized placement type: ${s}`;i[s.replace("replace","replaceWith")](this.render()),e=!1,n()}}})(globalThis.HTX||={});
