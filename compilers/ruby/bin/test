#!/usr/bin/env ruby
# frozen_string_literal: true

############################################################################################################
## Requires                                                                                               ##
############################################################################################################

require('bundler')

Dir.chdir(File.expand_path('../..', __FILE__))
Bundler.setup(:default, :development)

require('htx')
require('minitest/autorun')

############################################################################################################
## Monkey Patch Minitest                                                                                  ##
############################################################################################################

class Minitest::Result
  def location
    super.gsub('::#', '#').sub(/#test_\d{4}_/, ' ')
  end
end

############################################################################################################
## Run                                                                                                    ##
############################################################################################################

Dir[File.expand_path('test/**/*_test.rb')].each do |file|
  require(file)
end
